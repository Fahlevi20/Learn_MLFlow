{"spans": [{"name": "run_tool_agent", "context": {"span_id": "0x1d6916adb415ef6e", "trace_id": "0x9e2b0d9d052593ed90d8525417338ee7"}, "parent_id": null, "start_time": 1741507414941454800, "end_time": 1741507414945929900, "status_code": "ERROR", "status_message": "AttributeError: 'coroutine' object has no attribute 'choices'", "attributes": {"mlflow.traceRequestId": "\"831d7bd77d2b4a8eaec6e5d62e3c05df\"", "mlflow.spanType": "\"AGENT\"", "mlflow.spanFunctionName": "\"run_tool_agent\"", "mlflow.spanInputs": "{\"question\": \"What's the weather like in Paris today?\"}"}, "events": [{"name": "exception", "timestamp": 1741507414945855300, "attributes": {"exception.type": "AttributeError", "exception.message": "'coroutine' object has no attribute 'choices'", "exception.stacktrace": "Traceback (most recent call last):\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\opentelemetry\\trace\\__init__.py\", line 589, in use_span\n    yield span\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 449, in start_span\n    yield mlflow_span\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 196, in _wrapping_logic\n    result = yield  # sync/async function output to be sent here\n             ^^^^^\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 225, in wrapper\n    return wrapping_coro.send(fn(*args, **kwargs))\n                              ~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\rozak\\AppData\\Local\\Temp\\ipykernel_20348\\3665100011.py\", line 42, in run_tool_agent\n    ai_msg = response.choices[0].message\n             ^^^^^^^^^^^^^^^^\nAttributeError: 'coroutine' object has no attribute 'choices'\n", "exception.escaped": "False"}}]}], "request": "{\"question\": \"What's the weather like in Paris today?\"}", "response": null}