{"spans": [{"name": "run_tool_agent", "context": {"span_id": "0xc9c85059e9a55f3d", "trace_id": "0xe0332fddd61ea49f89341b11b5fc21f2"}, "parent_id": null, "start_time": 1741507311624253500, "end_time": 1741507311628457300, "status_code": "ERROR", "status_message": "AttributeError: 'coroutine' object has no attribute 'choices'", "attributes": {"mlflow.traceRequestId": "\"3422ea4e70a6493bb03c979ed83f5dca\"", "mlflow.spanType": "\"AGENT\"", "mlflow.spanFunctionName": "\"run_tool_agent\"", "mlflow.spanInputs": "{\"question\": \"What's the weather like in Paris today?\"}"}, "events": [{"name": "exception", "timestamp": 1741507311628319700, "attributes": {"exception.type": "AttributeError", "exception.message": "'coroutine' object has no attribute 'choices'", "exception.stacktrace": "Traceback (most recent call last):\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\opentelemetry\\trace\\__init__.py\", line 589, in use_span\n    yield span\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 449, in start_span\n    yield mlflow_span\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 196, in _wrapping_logic\n    result = yield  # sync/async function output to be sent here\n             ^^^^^\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 225, in wrapper\n    return wrapping_coro.send(fn(*args, **kwargs))\n                              ~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\rozak\\AppData\\Local\\Temp\\ipykernel_20348\\1793691759.py\", line 40, in run_tool_agent\n    ai_msg = response.choices[0].message\n             ^^^^^^^^^^^^^^^^\nAttributeError: 'coroutine' object has no attribute 'choices'\n", "exception.escaped": "False"}}]}], "request": "{\"question\": \"What's the weather like in Paris today?\"}", "response": null}