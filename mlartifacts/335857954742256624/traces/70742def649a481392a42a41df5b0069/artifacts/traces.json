{"spans": [{"name": "run_tool_agent", "context": {"span_id": "0x2551c0767a2b8402", "trace_id": "0x54213d9959684d38a1eda25df4d8302f"}, "parent_id": null, "start_time": 1741507348621140900, "end_time": 1741507348624683000, "status_code": "ERROR", "status_message": "AttributeError: 'coroutine' object has no attribute 'choices'", "attributes": {"mlflow.traceRequestId": "\"70742def649a481392a42a41df5b0069\"", "mlflow.spanType": "\"AGENT\"", "mlflow.spanFunctionName": "\"run_tool_agent\"", "mlflow.spanInputs": "{\"question\": \"What's the weather like in Paris today?\"}"}, "events": [{"name": "exception", "timestamp": 1741507348624594900, "attributes": {"exception.type": "AttributeError", "exception.message": "'coroutine' object has no attribute 'choices'", "exception.stacktrace": "Traceback (most recent call last):\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\opentelemetry\\trace\\__init__.py\", line 589, in use_span\n    yield span\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 449, in start_span\n    yield mlflow_span\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 196, in _wrapping_logic\n    result = yield  # sync/async function output to be sent here\n             ^^^^^\n  File \"c:\\Users\\rozak\\Downloads\\projects\\Learn_MLFlow\\.venv\\Lib\\site-packages\\mlflow\\tracing\\fluent.py\", line 225, in wrapper\n    return wrapping_coro.send(fn(*args, **kwargs))\n                              ~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\rozak\\AppData\\Local\\Temp\\ipykernel_20348\\4186541281.py\", line 42, in run_tool_agent\n    ai_msg = response.choices[0].message\n             ^^^^^^^^^^^^^^^^\nAttributeError: 'coroutine' object has no attribute 'choices'\n", "exception.escaped": "False"}}]}], "request": "{\"question\": \"What's the weather like in Paris today?\"}", "response": null}